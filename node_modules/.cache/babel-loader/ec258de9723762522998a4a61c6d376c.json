{"ast":null,"code":"import _slicedToArray from\"/home/parallels/Downloads/read/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useSelector}from'react-redux';// containers\nimport Highlight from'containers/menu/commons/Highlight';// components\nimport Wrapper from'components/sideMenu/Wrapper';import LearningLayout from'components/note/Layout';import MenuEmpty from'components/sideMenu/MenuEmpty';// types\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Note=function Note(_ref,ref){var control=_ref.control,onToggle=_ref.onToggle,onClickHighlight=_ref.onClickHighlight,emitEvent=_ref.emitEvent,viewerRef=_ref.viewerRef;var highlights=useSelector(function(state){return state.book.highlights;});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),highlightList=_useState2[0],setHighlightList=_useState2[1];/** Set highlight contents */useEffect(function(){var Items=highlights.map(function(h){return/*#__PURE__*/_jsx(Highlight,{highlight:h,onClick:onClickHighlight,emitEvent:emitEvent,viewerRef:viewerRef},h.key);});setHighlightList(Items);},[viewerRef,highlights,onClickHighlight,emitEvent,setHighlightList]);return/*#__PURE__*/_jsx(_Fragment,{children:control.display&&/*#__PURE__*/_jsx(Wrapper,{title:\"Highlight\",show:control.open,onClose:onToggle,ref:ref,children:/*#__PURE__*/_jsx(LearningLayout,{children:highlightList.length>0?highlightList:/*#__PURE__*/_jsx(MenuEmpty,{text:\"Empty highlights!\"})})})});};export default/*#__PURE__*/React.forwardRef(Note);","map":{"version":3,"names":["React","useState","useEffect","useSelector","Highlight","Wrapper","LearningLayout","MenuEmpty","Note","ref","control","onToggle","onClickHighlight","emitEvent","viewerRef","highlights","state","book","highlightList","setHighlightList","Items","map","h","key","display","open","length","forwardRef"],"sources":["/home/parallels/Downloads/read/src/containers/menu/Note.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n// containers\nimport Highlight from 'containers/menu/commons/Highlight'\n// components\nimport Wrapper from 'components/sideMenu/Wrapper'\nimport LearningLayout from 'components/note/Layout'\nimport MenuEmpty from 'components/sideMenu/MenuEmpty'\n// types\nimport { RootState } from 'slices'\nimport HighlightType from 'types/highlight'\nimport { MenuControl } from 'lib/hooks/useMenu'\n\n\nconst Note = ({ \n  control, \n  onToggle, \n  onClickHighlight, \n  emitEvent,\n  viewerRef \n}: Props, ref: any) => {\n  const highlights = useSelector<RootState, HighlightType[]>(state => state.book.highlights);\n  const [highlightList, setHighlightList] = useState<any[]>([]);\n\n\n  /** Set highlight contents */\n  useEffect(() => {\n    const Items = highlights.map(h => <Highlight key={h.key} \n                                                 highlight={h}\n                                                 onClick={onClickHighlight} \n                                                 emitEvent={emitEvent}\n                                                 viewerRef={viewerRef} />\n    );\n    setHighlightList(Items); \n  }, [\n    viewerRef,\n    highlights,\n    onClickHighlight,\n    emitEvent,\n    setHighlightList\n  ]);\n\n\n  return (<>\n    {control.display && <Wrapper title=\"Highlight\"\n                                 show={control.open}\n                                 onClose={onToggle}\n                                 ref={ref} >\n      <LearningLayout>\n        {highlightList.length > 0\n          ? highlightList\n          : <MenuEmpty text=\"Empty highlights!\" />\n        }\n      </LearningLayout>\n    </Wrapper>}\n  </>);\n}\n\ninterface Props {\n  control: MenuControl;\n  onToggle: () => void;\n  onClickHighlight: (highlightNode: any) => void;\n  emitEvent: () => void;\n  viewerRef: any;\n}\n\nexport default React.forwardRef(Note)"],"mappings":"oHAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,aAAa,CACzC;AACA,MAAOC,UAAS,KAAM,mCAAmC,CACzD;AACA,MAAOC,QAAO,KAAM,6BAA6B,CACjD,MAAOC,eAAc,KAAM,wBAAwB,CACnD,MAAOC,UAAS,KAAM,+BAA+B,CACrD;AAAA,gGAMA,GAAMC,KAAI,CAAG,QAAPA,KAAI,MAMAC,GAAQ,CAAK,IALrBC,QAAO,MAAPA,OAAO,CACPC,QAAQ,MAARA,QAAQ,CACRC,gBAAgB,MAAhBA,gBAAgB,CAChBC,SAAS,MAATA,SAAS,CACTC,SAAS,MAATA,SAAS,CAET,GAAMC,WAAU,CAAGZ,WAAW,CAA6B,SAAAa,KAAK,QAAIA,MAAK,CAACC,IAAI,CAACF,UAAU,GAAC,CAC1F,cAA0Cd,QAAQ,CAAQ,EAAE,CAAC,wCAAtDiB,aAAa,eAAEC,gBAAgB,eAGtC,6BACAjB,SAAS,CAAC,UAAM,CACd,GAAMkB,MAAK,CAAGL,UAAU,CAACM,GAAG,CAAC,SAAAC,CAAC,qBAAI,KAAC,SAAS,EACC,SAAS,CAAEA,CAAE,CACb,OAAO,CAAEV,gBAAiB,CAC1B,SAAS,CAAEC,SAAU,CACrB,SAAS,CAAEC,SAAU,EAJhBQ,CAAC,CAACC,GAAG,CAIc,GACpE,CACDJ,gBAAgB,CAACC,KAAK,CAAC,CACzB,CAAC,CAAE,CACDN,SAAS,CACTC,UAAU,CACVH,gBAAgB,CAChBC,SAAS,CACTM,gBAAgB,CACjB,CAAC,CAGF,mBAAQ,yBACLT,OAAO,CAACc,OAAO,eAAI,KAAC,OAAO,EAAC,KAAK,CAAC,WAAW,CACjB,IAAI,CAAEd,OAAO,CAACe,IAAK,CACnB,OAAO,CAAEd,QAAS,CAClB,GAAG,CAAEF,GAAI,uBACpC,KAAC,cAAc,WACZS,aAAa,CAACQ,MAAM,CAAG,CAAC,CACrBR,aAAa,cACb,KAAC,SAAS,EAAC,IAAI,CAAC,mBAAmB,EAAG,EAE3B,EACT,EACT,CACL,CAAC,CAUD,2BAAelB,KAAK,CAAC2B,UAAU,CAACnB,IAAI,CAAC"},"metadata":{},"sourceType":"module"}