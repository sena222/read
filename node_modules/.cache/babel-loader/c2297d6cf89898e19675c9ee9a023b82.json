{"ast":null,"code":"import _classCallCheck from \"/home/parallels/Downloads/read/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/home/parallels/Downloads/read/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar Views = /*#__PURE__*/function () {\n  function Views(container) {\n    _classCallCheck(this, Views);\n    this.container = container;\n    this._views = [];\n    this.length = 0;\n    this.hidden = false;\n  }\n  _createClass(Views, [{\n    key: \"all\",\n    value: function all() {\n      return this._views;\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      return this._views[0];\n    }\n  }, {\n    key: \"last\",\n    value: function last() {\n      return this._views[this._views.length - 1];\n    }\n  }, {\n    key: \"indexOf\",\n    value: function indexOf(view) {\n      return this._views.indexOf(view);\n    }\n  }, {\n    key: \"slice\",\n    value: function slice() {\n      return this._views.slice.apply(this._views, arguments);\n    }\n  }, {\n    key: \"get\",\n    value: function get(i) {\n      return this._views[i];\n    }\n  }, {\n    key: \"append\",\n    value: function append(view) {\n      this._views.push(view);\n      if (this.container) {\n        this.container.appendChild(view.element);\n      }\n      this.length++;\n      return view;\n    }\n  }, {\n    key: \"prepend\",\n    value: function prepend(view) {\n      this._views.unshift(view);\n      if (this.container) {\n        this.container.insertBefore(view.element, this.container.firstChild);\n      }\n      this.length++;\n      return view;\n    }\n  }, {\n    key: \"insert\",\n    value: function insert(view, index) {\n      this._views.splice(index, 0, view);\n      if (this.container) {\n        if (index < this.container.children.length) {\n          this.container.insertBefore(view.element, this.container.children[index]);\n        } else {\n          this.container.appendChild(view.element);\n        }\n      }\n      this.length++;\n      return view;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(view) {\n      var index = this._views.indexOf(view);\n      if (index > -1) {\n        this._views.splice(index, 1);\n      }\n      this.destroy(view);\n      this.length--;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(view) {\n      if (view.displayed) {\n        view.destroy();\n      }\n      if (this.container) {\n        this.container.removeChild(view.element);\n      }\n      view = null;\n    }\n\n    // Iterators\n  }, {\n    key: \"forEach\",\n    value: function forEach() {\n      return this._views.forEach.apply(this._views, arguments);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      // Remove all views\n      var view;\n      var len = this.length;\n      if (!this.length) return;\n      for (var i = 0; i < len; i++) {\n        view = this._views[i];\n        this.destroy(view);\n      }\n      this._views = [];\n      this.length = 0;\n    }\n  }, {\n    key: \"find\",\n    value: function find(section) {\n      var view;\n      var len = this.length;\n      for (var i = 0; i < len; i++) {\n        view = this._views[i];\n        if (view.displayed && view.section.index == section.index) {\n          return view;\n        }\n      }\n    }\n  }, {\n    key: \"displayed\",\n    value: function displayed() {\n      var displayed = [];\n      var view;\n      var len = this.length;\n      for (var i = 0; i < len; i++) {\n        view = this._views[i];\n        if (view.displayed) {\n          displayed.push(view);\n        }\n      }\n      return displayed;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      var view;\n      var len = this.length;\n      for (var i = 0; i < len; i++) {\n        view = this._views[i];\n        if (view.displayed) {\n          view.show();\n        }\n      }\n      this.hidden = false;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var view;\n      var len = this.length;\n      for (var i = 0; i < len; i++) {\n        view = this._views[i];\n        if (view.displayed) {\n          view.hide();\n        }\n      }\n      this.hidden = true;\n    }\n  }]);\n  return Views;\n}();\nexport default Views;","map":{"version":3,"names":["Views","container","_views","length","hidden","view","indexOf","slice","apply","arguments","i","push","appendChild","element","unshift","insertBefore","firstChild","index","splice","children","destroy","displayed","removeChild","forEach","len","section","show","hide"],"sources":["/home/parallels/Downloads/read/node_modules/epubjs/src/managers/helpers/views.js"],"sourcesContent":["class Views {\n\tconstructor(container) {\n\t\tthis.container = container;\n\t\tthis._views = [];\n\t\tthis.length = 0;\n\t\tthis.hidden = false;\n\t}\n\n\tall() {\n\t\treturn this._views;\n\t}\n\n\tfirst() {\n\t\treturn this._views[0];\n\t}\n\n\tlast() {\n\t\treturn this._views[this._views.length-1];\n\t}\n\n\tindexOf(view) {\n\t\treturn this._views.indexOf(view);\n\t}\n\n\tslice() {\n\t\treturn this._views.slice.apply(this._views, arguments);\n\t}\n\n\tget(i) {\n\t\treturn this._views[i];\n\t}\n\n\tappend(view){\n\t\tthis._views.push(view);\n\t\tif(this.container){\n\t\t\tthis.container.appendChild(view.element);\n\t\t}\n\t\tthis.length++;\n\t\treturn view;\n\t}\n\n\tprepend(view){\n\t\tthis._views.unshift(view);\n\t\tif(this.container){\n\t\t\tthis.container.insertBefore(view.element, this.container.firstChild);\n\t\t}\n\t\tthis.length++;\n\t\treturn view;\n\t}\n\n\tinsert(view, index) {\n\t\tthis._views.splice(index, 0, view);\n\n\t\tif(this.container){\n\t\t\tif(index < this.container.children.length){\n\t\t\t\tthis.container.insertBefore(view.element, this.container.children[index]);\n\t\t\t} else {\n\t\t\t\tthis.container.appendChild(view.element);\n\t\t\t}\n\t\t}\n\n\t\tthis.length++;\n\t\treturn view;\n\t}\n\n\tremove(view) {\n\t\tvar index = this._views.indexOf(view);\n\n\t\tif(index > -1) {\n\t\t\tthis._views.splice(index, 1);\n\t\t}\n\n\n\t\tthis.destroy(view);\n\n\t\tthis.length--;\n\t}\n\n\tdestroy(view) {\n\t\tif(view.displayed){\n\t\t\tview.destroy();\n\t\t}\n\t\t\n\t\tif(this.container){\n\t\t\t this.container.removeChild(view.element);\n\t\t}\n\t\tview = null;\n\t}\n\n\t// Iterators\n\n\tforEach() {\n\t\treturn this._views.forEach.apply(this._views, arguments);\n\t}\n\n\tclear(){\n\t\t// Remove all views\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tif(!this.length) return;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tthis.destroy(view);\n\t\t}\n\n\t\tthis._views = [];\n\t\tthis.length = 0;\n\t}\n\n\tfind(section){\n\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed && view.section.index == section.index) {\n\t\t\t\treturn view;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tdisplayed(){\n\t\tvar displayed = [];\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed){\n\t\t\t\tdisplayed.push(view);\n\t\t\t}\n\t\t}\n\t\treturn displayed;\n\t}\n\n\tshow(){\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed){\n\t\t\t\tview.show();\n\t\t\t}\n\t\t}\n\t\tthis.hidden = false;\n\t}\n\n\thide(){\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed){\n\t\t\t\tview.hide();\n\t\t\t}\n\t\t}\n\t\tthis.hidden = true;\n\t}\n}\n\nexport default Views;\n"],"mappings":";;IAAMA,KAAK;EACV,eAAYC,SAAS,EAAE;IAAA;IACtB,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACC,MAAM,GAAG,EAAE;IAChB,IAAI,CAACC,MAAM,GAAG,CAAC;IACf,IAAI,CAACC,MAAM,GAAG,KAAK;EACpB;EAAC;IAAA;IAAA,OAED,eAAM;MACL,OAAO,IAAI,CAACF,MAAM;IACnB;EAAC;IAAA;IAAA,OAED,iBAAQ;MACP,OAAO,IAAI,CAACA,MAAM,CAAC,CAAC,CAAC;IACtB;EAAC;IAAA;IAAA,OAED,gBAAO;MACN,OAAO,IAAI,CAACA,MAAM,CAAC,IAAI,CAACA,MAAM,CAACC,MAAM,GAAC,CAAC,CAAC;IACzC;EAAC;IAAA;IAAA,OAED,iBAAQE,IAAI,EAAE;MACb,OAAO,IAAI,CAACH,MAAM,CAACI,OAAO,CAACD,IAAI,CAAC;IACjC;EAAC;IAAA;IAAA,OAED,iBAAQ;MACP,OAAO,IAAI,CAACH,MAAM,CAACK,KAAK,CAACC,KAAK,CAAC,IAAI,CAACN,MAAM,EAAEO,SAAS,CAAC;IACvD;EAAC;IAAA;IAAA,OAED,aAAIC,CAAC,EAAE;MACN,OAAO,IAAI,CAACR,MAAM,CAACQ,CAAC,CAAC;IACtB;EAAC;IAAA;IAAA,OAED,gBAAOL,IAAI,EAAC;MACX,IAAI,CAACH,MAAM,CAACS,IAAI,CAACN,IAAI,CAAC;MACtB,IAAG,IAAI,CAACJ,SAAS,EAAC;QACjB,IAAI,CAACA,SAAS,CAACW,WAAW,CAACP,IAAI,CAACQ,OAAO,CAAC;MACzC;MACA,IAAI,CAACV,MAAM,EAAE;MACb,OAAOE,IAAI;IACZ;EAAC;IAAA;IAAA,OAED,iBAAQA,IAAI,EAAC;MACZ,IAAI,CAACH,MAAM,CAACY,OAAO,CAACT,IAAI,CAAC;MACzB,IAAG,IAAI,CAACJ,SAAS,EAAC;QACjB,IAAI,CAACA,SAAS,CAACc,YAAY,CAACV,IAAI,CAACQ,OAAO,EAAE,IAAI,CAACZ,SAAS,CAACe,UAAU,CAAC;MACrE;MACA,IAAI,CAACb,MAAM,EAAE;MACb,OAAOE,IAAI;IACZ;EAAC;IAAA;IAAA,OAED,gBAAOA,IAAI,EAAEY,KAAK,EAAE;MACnB,IAAI,CAACf,MAAM,CAACgB,MAAM,CAACD,KAAK,EAAE,CAAC,EAAEZ,IAAI,CAAC;MAElC,IAAG,IAAI,CAACJ,SAAS,EAAC;QACjB,IAAGgB,KAAK,GAAG,IAAI,CAAChB,SAAS,CAACkB,QAAQ,CAAChB,MAAM,EAAC;UACzC,IAAI,CAACF,SAAS,CAACc,YAAY,CAACV,IAAI,CAACQ,OAAO,EAAE,IAAI,CAACZ,SAAS,CAACkB,QAAQ,CAACF,KAAK,CAAC,CAAC;QAC1E,CAAC,MAAM;UACN,IAAI,CAAChB,SAAS,CAACW,WAAW,CAACP,IAAI,CAACQ,OAAO,CAAC;QACzC;MACD;MAEA,IAAI,CAACV,MAAM,EAAE;MACb,OAAOE,IAAI;IACZ;EAAC;IAAA;IAAA,OAED,gBAAOA,IAAI,EAAE;MACZ,IAAIY,KAAK,GAAG,IAAI,CAACf,MAAM,CAACI,OAAO,CAACD,IAAI,CAAC;MAErC,IAAGY,KAAK,GAAG,CAAC,CAAC,EAAE;QACd,IAAI,CAACf,MAAM,CAACgB,MAAM,CAACD,KAAK,EAAE,CAAC,CAAC;MAC7B;MAGA,IAAI,CAACG,OAAO,CAACf,IAAI,CAAC;MAElB,IAAI,CAACF,MAAM,EAAE;IACd;EAAC;IAAA;IAAA,OAED,iBAAQE,IAAI,EAAE;MACb,IAAGA,IAAI,CAACgB,SAAS,EAAC;QACjBhB,IAAI,CAACe,OAAO,EAAE;MACf;MAEA,IAAG,IAAI,CAACnB,SAAS,EAAC;QAChB,IAAI,CAACA,SAAS,CAACqB,WAAW,CAACjB,IAAI,CAACQ,OAAO,CAAC;MAC1C;MACAR,IAAI,GAAG,IAAI;IACZ;;IAEA;EAAA;IAAA;IAAA,OAEA,mBAAU;MACT,OAAO,IAAI,CAACH,MAAM,CAACqB,OAAO,CAACf,KAAK,CAAC,IAAI,CAACN,MAAM,EAAEO,SAAS,CAAC;IACzD;EAAC;IAAA;IAAA,OAED,iBAAO;MACN;MACA,IAAIJ,IAAI;MACR,IAAImB,GAAG,GAAG,IAAI,CAACrB,MAAM;MAErB,IAAG,CAAC,IAAI,CAACA,MAAM,EAAE;MAEjB,KAAK,IAAIO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGc,GAAG,EAAEd,CAAC,EAAE,EAAE;QAC7BL,IAAI,GAAG,IAAI,CAACH,MAAM,CAACQ,CAAC,CAAC;QACrB,IAAI,CAACU,OAAO,CAACf,IAAI,CAAC;MACnB;MAEA,IAAI,CAACH,MAAM,GAAG,EAAE;MAChB,IAAI,CAACC,MAAM,GAAG,CAAC;IAChB;EAAC;IAAA;IAAA,OAED,cAAKsB,OAAO,EAAC;MAEZ,IAAIpB,IAAI;MACR,IAAImB,GAAG,GAAG,IAAI,CAACrB,MAAM;MAErB,KAAK,IAAIO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGc,GAAG,EAAEd,CAAC,EAAE,EAAE;QAC7BL,IAAI,GAAG,IAAI,CAACH,MAAM,CAACQ,CAAC,CAAC;QACrB,IAAGL,IAAI,CAACgB,SAAS,IAAIhB,IAAI,CAACoB,OAAO,CAACR,KAAK,IAAIQ,OAAO,CAACR,KAAK,EAAE;UACzD,OAAOZ,IAAI;QACZ;MACD;IAED;EAAC;IAAA;IAAA,OAED,qBAAW;MACV,IAAIgB,SAAS,GAAG,EAAE;MAClB,IAAIhB,IAAI;MACR,IAAImB,GAAG,GAAG,IAAI,CAACrB,MAAM;MAErB,KAAK,IAAIO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGc,GAAG,EAAEd,CAAC,EAAE,EAAE;QAC7BL,IAAI,GAAG,IAAI,CAACH,MAAM,CAACQ,CAAC,CAAC;QACrB,IAAGL,IAAI,CAACgB,SAAS,EAAC;UACjBA,SAAS,CAACV,IAAI,CAACN,IAAI,CAAC;QACrB;MACD;MACA,OAAOgB,SAAS;IACjB;EAAC;IAAA;IAAA,OAED,gBAAM;MACL,IAAIhB,IAAI;MACR,IAAImB,GAAG,GAAG,IAAI,CAACrB,MAAM;MAErB,KAAK,IAAIO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGc,GAAG,EAAEd,CAAC,EAAE,EAAE;QAC7BL,IAAI,GAAG,IAAI,CAACH,MAAM,CAACQ,CAAC,CAAC;QACrB,IAAGL,IAAI,CAACgB,SAAS,EAAC;UACjBhB,IAAI,CAACqB,IAAI,EAAE;QACZ;MACD;MACA,IAAI,CAACtB,MAAM,GAAG,KAAK;IACpB;EAAC;IAAA;IAAA,OAED,gBAAM;MACL,IAAIC,IAAI;MACR,IAAImB,GAAG,GAAG,IAAI,CAACrB,MAAM;MAErB,KAAK,IAAIO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGc,GAAG,EAAEd,CAAC,EAAE,EAAE;QAC7BL,IAAI,GAAG,IAAI,CAACH,MAAM,CAACQ,CAAC,CAAC;QACrB,IAAGL,IAAI,CAACgB,SAAS,EAAC;UACjBhB,IAAI,CAACsB,IAAI,EAAE;QACZ;MACD;MACA,IAAI,CAACvB,MAAM,GAAG,IAAI;IACnB;EAAC;EAAA;AAAA;AAGF,eAAeJ,KAAK"},"metadata":{},"sourceType":"module"}