{"ast":null,"code":"import _asyncToGenerator from\"/home/parallels/Downloads/read/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/home/parallels/Downloads/read/node_modules/@babel/runtime/regenerator/index.js\";import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';// types\nvar RefEvent=[];/* \n\tThunks\n*/export var newSnackbar=createAsyncThunk('snackbar/newSnackbar',/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref,_ref2){var text,type,dispatch,event;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:text=_ref.text,type=_ref.type;dispatch=_ref2.dispatch;if(RefEvent.length!==0){event=RefEvent.shift();clearTimeout(event);}dispatch(SnackbarSlice.actions.deleteSnackbar());_context.next=6;return setTimeout(function(){dispatch(SnackbarSlice.actions.appendSnackbar({text:text,type:type?type:\"INFO\"}));var event=window.setTimeout(function(){dispatch(SnackbarSlice.actions.deleteSnackbar());},4000);RefEvent.push(event);},50);case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref3.apply(this,arguments);};}());/* \n\tInitial State\n*/var initialState={text:\"\",type:\"INFO\"};/* \n\tSlice\n*/var SnackbarSlice=createSlice({name:'snackbar',initialState:initialState,reducers:{/** 스낵바 갱신 @dispatch */appendSnackbar:function appendSnackbar(state,action){state.text=action.payload.text;state.type=action.payload.type;},/** 스낵바 초기화 @dispatch */deleteSnackbar:function deleteSnackbar(state){state.text=\"\";state.type=\"INFO\";}}});var _SnackbarSlice$action=SnackbarSlice.actions,appendSnackbar=_SnackbarSlice$action.appendSnackbar,deleteSnackbar=_SnackbarSlice$action.deleteSnackbar;export{appendSnackbar,deleteSnackbar};export default SnackbarSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","RefEvent","newSnackbar","text","type","dispatch","length","event","shift","clearTimeout","SnackbarSlice","actions","deleteSnackbar","setTimeout","appendSnackbar","window","push","initialState","name","reducers","state","action","payload","reducer"],"sources":["/home/parallels/Downloads/read/src/slices/snackbar.ts"],"sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit'\n// types\nimport Snackbar from 'types/snackbar'\n\n\nconst RefEvent: number[] = [];\n\n\n/* \n\tThunks\n*/\nexport const newSnackbar = createAsyncThunk(\n\t'snackbar/newSnackbar',\n\tasync (\n\t\t{ text, type }: SnackbarState, \n\t\t{ dispatch }\n\t) => {\n\t\tif(RefEvent.length !== 0) {\n\t\t\tlet event = RefEvent.shift();\n\t\t\tclearTimeout(event);\n\t\t}\n\t\tdispatch(SnackbarSlice.actions.deleteSnackbar());\n\t\tawait setTimeout(function() {\n\t\t\tdispatch(SnackbarSlice.actions.appendSnackbar({ text, type: type ? type: \"INFO\" }));\n\t\t\tlet event = window.setTimeout(function() {\n\t\t\t\tdispatch(SnackbarSlice.actions.deleteSnackbar());\n\t\t\t}, 4000);\n\t\t\tRefEvent.push(event);\n\t\t}, 50);\n\t}\n);\n\n/* \n\tInitial State\n*/\n\nconst initialState: SnackbarState = {\n\ttext: \"\",\n\ttype: \"INFO\"\n}\n\n\n/* \n\tSlice\n*/\nconst SnackbarSlice = createSlice({\n\tname: 'snackbar',\n\tinitialState,\n\treducers: {\n\t\t/** 스낵바 갱신 @dispatch */\n\t\tappendSnackbar(state, action: PayloadAction<SnackbarState>) {\n\t\t\tstate.text = action.payload.text;\n\t\t\tstate.type = action.payload.type;\n\t\t},\n\t\t/** 스낵바 초기화 @dispatch */\n\t\tdeleteSnackbar(state) {\n\t\t\tstate.text = \"\";\n\t\t\tstate.type = \"INFO\"\n\t\t}\n\t}\n});\n\n\nexport interface SnackbarState {\n\ttext: string;\n\ttype: Snackbar;\n}\n\nexport const {\n\tappendSnackbar,\n\tdeleteSnackbar\n} = SnackbarSlice.actions\n\nexport default SnackbarSlice.reducer"],"mappings":"2OAAA,OAASA,gBAAgB,CAAEC,WAAW,KAAuB,kBAAkB,CAC/E;AAIA,GAAMC,SAAkB,CAAG,EAAE,CAG7B;AACA;AACA,EACA,MAAO,IAAMC,YAAW,CAAGH,gBAAgB,CAC1C,sBAAsB,2FACtB,0KACGI,IAAI,MAAJA,IAAI,CAAEC,IAAI,MAAJA,IAAI,CACVC,QAAQ,OAARA,QAAQ,CAEV,GAAGJ,QAAQ,CAACK,MAAM,GAAK,CAAC,CAAE,CACrBC,KAAK,CAAGN,QAAQ,CAACO,KAAK,EAAE,CAC5BC,YAAY,CAACF,KAAK,CAAC,CACpB,CACAF,QAAQ,CAACK,aAAa,CAACC,OAAO,CAACC,cAAc,EAAE,CAAC,CAAC,sBAC3CC,WAAU,CAAC,UAAW,CAC3BR,QAAQ,CAACK,aAAa,CAACC,OAAO,CAACG,cAAc,CAAC,CAAEX,IAAI,CAAJA,IAAI,CAAEC,IAAI,CAAEA,IAAI,CAAGA,IAAI,CAAE,MAAO,CAAC,CAAC,CAAC,CACnF,GAAIG,MAAK,CAAGQ,MAAM,CAACF,UAAU,CAAC,UAAW,CACxCR,QAAQ,CAACK,aAAa,CAACC,OAAO,CAACC,cAAc,EAAE,CAAC,CACjD,CAAC,CAAE,IAAI,CAAC,CACRX,QAAQ,CAACe,IAAI,CAACT,KAAK,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,uDACN,oEACD,CAED;AACA;AACA,EAEA,GAAMU,aAA2B,CAAG,CACnCd,IAAI,CAAE,EAAE,CACRC,IAAI,CAAE,MACP,CAAC,CAGD;AACA;AACA,EACA,GAAMM,cAAa,CAAGV,WAAW,CAAC,CACjCkB,IAAI,CAAE,UAAU,CAChBD,YAAY,CAAZA,YAAY,CACZE,QAAQ,CAAE,CACT,uBACAL,cAAc,yBAACM,KAAK,CAAEC,MAAoC,CAAE,CAC3DD,KAAK,CAACjB,IAAI,CAAGkB,MAAM,CAACC,OAAO,CAACnB,IAAI,CAChCiB,KAAK,CAAChB,IAAI,CAAGiB,MAAM,CAACC,OAAO,CAAClB,IAAI,CACjC,CAAC,CACD,wBACAQ,cAAc,yBAACQ,KAAK,CAAE,CACrBA,KAAK,CAACjB,IAAI,CAAG,EAAE,CACfiB,KAAK,CAAChB,IAAI,CAAG,MAAM,CACpB,CACD,CACD,CAAC,CAAC,CAQK,0BAGHM,aAAa,CAACC,OAAO,CAFxBG,cAAc,uBAAdA,cAAc,CACdF,cAAc,uBAAdA,cAAc,CACU,sCAEzB,cAAeF,cAAa,CAACa,OAAO"},"metadata":{},"sourceType":"module"}